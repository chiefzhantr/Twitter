<app-searchbar></app-searchbar>
<app-sidebar></app-sidebar>

<body>
  <h3>Tweet</h3>
  <ul>
    <li>
      <span class="profile-span">
        <img src="{{post.profile_picture}}" class="avatar-image">
        <a>{{post.username}}</a>
      </span>
      <span>
          <p>
            {{post.body}}
          </p>
          <div *ngFor="let media of post.medias">
            <img src="{{media.url}}" class="responsive-image">
          </div>
      </span>
    </li>
    <button (click)="clickTweets()"> {{showTweets}} </button>
<!--    <button *ngIf="isTweetOwner">-->
<!--      edit tweet-->
<!--    </button>-->
  </ul>

  <ul>
    <li *ngFor="let tweet of tweets">
    <span class="profile-span">
      <img src="assets/noavatar.png" class="avatar-image">
      <span>
        <a>{{tweet.username}}</a>
        <p>{{tweet.body}}</p>
      </span>
    </span>
        <button *ngIf="tweet.username == currentUsername && !editingTweet" (click)="startEditingTweet(tweet.id)">edit tweet</button>
      <ng-container *ngIf="editingTweet && editingTweetId === tweet.id">
        <form (ngSubmit)="saveEditedTweet()" #editForm>
          <textarea [(ngModel)]="editedTweetBody" name="body" id="tweet-body">{{ tweet.body }}</textarea>
          <button type="submit">Save</button>
        </form>
        <button (click)="cancelEditingTweet()">Cancel</button>
        <button (click)="deleteTweet()">Delete Tweet</button>
      </ng-container>
    </li>
    <button (click)="showAddTweet()">
      leave a tweet
    </button>
    <div *ngIf="addingTweet">
      <form>
        <label for="tweet-body">Tweet Body:</label>
        <input type="text" id="tweet-body">
        <button (click)="addTweetAction()">Add Tweet</button>
      </form>
    </div>
  </ul>
</body>
